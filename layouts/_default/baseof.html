<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode }}">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{ .Title }} - {{ .Site.Title }}</title>

    <!-- Tailwind CSS -->
    {{ $tailwind := resources.Get "css/output.css" }} {{ if $tailwind }}
    <link href="{{ $tailwind.RelPermalink }}" rel="stylesheet" />
    {{ end }}

    <!-- Dark mode script - must be in head to prevent flash -->
    <script>
      // Initialize theme before page renders
      (function () {
        const theme =
          localStorage.getItem("theme") ||
          (window.matchMedia("(prefers-color-scheme: dark)").matches
            ? "dark"
            : "light");
        document.documentElement.classList.toggle("dark", theme === "dark");
      })();
    </script>

    <style>
      /* Base styles for dark mode */
      :root {
        --bg-primary: #ffffff;
        --bg-secondary: #f9fafb;
        --text-primary: #111827;
        --text-secondary: #6b7280;
        --border-color: #e5e7eb;
      }

      .dark {
        --bg-primary: #0a0a0a;
        --bg-secondary: #1a1a1a;
        --text-primary: #ffffff;
        --text-secondary: #9ca3af;
        --border-color: #1f2937;
      }

      body {
        background-color: var(--bg-secondary);
        color: var(--text-primary);
        transition: background-color 0.2s, color 0.2s;
      }
    </style>
    <script type="text/javascript">
      (function(c,l,a,r,i,t,y){
          c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
          t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
          y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
      })(window, document, "clarity", "script", "uuunok5ls4");
  </script>

    {{ block "head" . }}{{ end }}
  </head>
  <body class="min-h-screen bg-gray-50 dark:bg-[#0a0a0a]">
    {{ partial "header_nav.html" . }} {{ block "main" . }}{{ end }} {{ partial
    "footer.html" . }}
  </body>
</html>
